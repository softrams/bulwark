<p-card>
  <div class="card-body">
    <h4>User Management</h4>
    <hr />
    <p-table [value]="users" [paginator]="true" [rows]="10" styleClass="p-datatable-striped">
      <ng-template pTemplate="header">
        <tr>
          <th>
            <div class="p-d-flex p-jc-between p-ai-center">
              Full Name
              <p-columnFilter type="text" field="name" display="menu"></p-columnFilter>
            </div>
          </th>
          <th>
            <div class="p-d-flex p-jc-between p-ai-center">
              Title
              <p-columnFilter type="text" field="title" display="menu"></p-columnFilter>
            </div>
          </th>
          <th pSortableColumn="active">Status <p-sortIcon field="active"></p-sortIcon>
          </th>
          <th>Teams</th>
          <th>Actions</th>
        </tr>
      </ng-template>
      <ng-template pTemplate="body" let-user>
        <tr>
          <td><div class="name"><td class="fitwidth">{{user?.firstName}} {{user?.lastName}}</td></div>
          <div class="hide"><td class="fitwidth">{{user?.email}}</td></div>
          <td>{{user?.title}}</td>
          <td class="fitwidth">{{user?.active ? 'Active': 'Inactive'}}</td>
          <td><span *ngFor="let team of user.teams; let isLast=last">{{team.name}}{{isLast ? '' : ', '}}</span></td>
          <td>
            <button *ngIf="user?.active" (click)="deactivateUser(user)" type="button" class="btn btn-danger btn-sm">
              Deactivate
            </button>
            <button *ngIf="!user?.active" (click)="activateUser(user)" type="button" class="btn btn-success btn-sm">
              Activate
            </button>
          </td>
        </tr>
      </ng-template>
    </p-table>
    <br>
    <button (click)="navigateToTeamCreateUser()" pInputText type="button" class="btn btn-primary float-right">
      Create User
    </button>
    <button (click)="navigateToTeamInviteUser()" style="margin-right: 5px;" pInputText type="button"
      class="btn btn-primary float-right">
      Invite User
    </button>
  </div>
</p-card>
