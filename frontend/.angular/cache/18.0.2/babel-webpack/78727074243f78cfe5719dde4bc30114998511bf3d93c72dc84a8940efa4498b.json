{"ast":null,"code":"\"use strict\";\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\nexports.OrganizationComponent = void 0;\nconst i0 = require(\"@angular/core\");\nconst i1 = require(\"@angular/router\");\nconst i2 = require(\"../app.service\");\nconst i3 = require(\"../alert/alert.service\");\nconst i4 = require(\"../auth.service\");\nconst i5 = require(\"@angular/common\");\nconst i6 = require(\"primeng/table\");\nconst i7 = require(\"primeng/api\");\nconst i8 = require(\"primeng/inputtext\");\nconst i9 = require(\"primeng/multiselect\");\nconst i10 = require(\"primeng/dialog\");\nconst _c0 = [\"dt\"];\nconst _c1 = [\"vulnTable\"];\nconst _c2 = () => ({\n  width: \"125vw\"\n});\nfunction OrganizationComponent_ng_template_3_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r2 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 12);\n    i0.ɵɵtext(2, \"Asset ID\");\n    i0.ɵɵelement(3, \"p-sortIcon\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\", 14);\n    i0.ɵɵtext(5, \"Asset Name\");\n    i0.ɵɵelement(6, \"p-sortIcon\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 16);\n    i0.ɵɵtext(8, \"Jira Enabled\");\n    i0.ɵɵelement(9, \"p-sortIcon\", 17);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 18);\n    i0.ɵɵtext(11, \"Status\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"th\", 18);\n    i0.ɵɵtext(13, \"# Open Vulnerabilities\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(14, \"th\", 18);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(15, \"tr\")(16, \"th\")(17, \"input\", 19);\n    i0.ɵɵlistener(\"input\", function OrganizationComponent_ng_template_3_Template_input_input_17_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      i0.ɵɵnextContext();\n      const dt_r3 = i0.ɵɵreference(2);\n      return i0.ɵɵresetView(dt_r3.filter($event.target.value, \"id\", \"equals\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(18, \"th\")(19, \"input\", 20);\n    i0.ɵɵlistener(\"input\", function OrganizationComponent_ng_template_3_Template_input_input_19_listener($event) {\n      i0.ɵɵrestoreView(_r2);\n      i0.ɵɵnextContext();\n      const dt_r3 = i0.ɵɵreference(2);\n      return i0.ɵɵresetView(dt_r3.filter($event.target.value, \"name\", \"startsWith\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(20, \"th\")(21, \"th\")(22, \"th\")(23, \"th\");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrganizationComponent_ng_template_4_button_13_i_1_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 30);\n  }\n}\nfunction OrganizationComponent_ng_template_4_button_13_i_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelement(0, \"i\", 31);\n  }\n}\nfunction OrganizationComponent_ng_template_4_button_13_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r7 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 27);\n    i0.ɵɵlistener(\"click\", function OrganizationComponent_ng_template_4_button_13_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r7);\n      const asset_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.navigateToAsset(asset_r5.id));\n    });\n    i0.ɵɵtemplate(1, OrganizationComponent_ng_template_4_button_13_i_1_Template, 1, 0, \"i\", 28)(2, OrganizationComponent_ng_template_4_button_13_i_2_Template, 1, 0, \"i\", 29);\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.isAdmin);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.isAdmin);\n  }\n}\nfunction OrganizationComponent_ng_template_4_button_14_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r8 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 32);\n    i0.ɵɵlistener(\"click\", function OrganizationComponent_ng_template_4_button_14_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r8);\n      const asset_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.navigateToAssessment(asset_r5.id));\n    });\n    i0.ɵɵelement(1, \"i\", 33);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrganizationComponent_ng_template_4_button_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 34);\n    i0.ɵɵlistener(\"click\", function OrganizationComponent_ng_template_4_button_15_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const asset_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.archiveAsset(asset_r5));\n    });\n    i0.ɵɵelement(1, \"i\", 35);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrganizationComponent_ng_template_4_button_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r10 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 36);\n    i0.ɵɵlistener(\"click\", function OrganizationComponent_ng_template_4_button_16_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r10);\n      const asset_r5 = i0.ɵɵnextContext().$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.activateAsset(asset_r5));\n    });\n    i0.ɵɵelement(1, \"i\", 37);\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrganizationComponent_ng_template_4_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r4 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\", 21);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"a\", 22);\n    i0.ɵɵlistener(\"click\", function OrganizationComponent_ng_template_4_Template_a_click_10_listener() {\n      const asset_r5 = i0.ɵɵrestoreView(_r4).$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.showOpenVulnsModal(asset_r5.id, asset_r5.name));\n    });\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\");\n    i0.ɵɵtemplate(13, OrganizationComponent_ng_template_4_button_13_Template, 3, 2, \"button\", 23)(14, OrganizationComponent_ng_template_4_button_14_Template, 2, 0, \"button\", 24)(15, OrganizationComponent_ng_template_4_button_15_Template, 2, 0, \"button\", 25)(16, OrganizationComponent_ng_template_4_button_16_Template, 2, 0, \"button\", 26);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const asset_r5 = ctx.$implicit;\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asset_r5 == null ? null : asset_r5.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(asset_r5 == null ? null : asset_r5.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((asset_r5 == null ? null : asset_r5.jira == null ? null : asset_r5.jira.id) ? \"Yes\" : \"No\");\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate((asset_r5 == null ? null : asset_r5.status) === \"A\" ? \"Active\" : \"Archived\");\n    i0.ɵɵadvance(3);\n    i0.ɵɵtextInterpolate(asset_r5 == null ? null : asset_r5.openVulnCount);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.isArchive);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.isArchive);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", !ctx_r5.isArchive && ctx_r5.isAdmin);\n    i0.ɵɵadvance();\n    i0.ɵɵproperty(\"ngIf\", ctx_r5.isArchive && ctx_r5.isAdmin);\n  }\n}\nfunction OrganizationComponent_button_9_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r11 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 38);\n    i0.ɵɵlistener(\"click\", function OrganizationComponent_button_9_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r11);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.getArchivedAssets());\n    });\n    i0.ɵɵtext(1, \" View Archive \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrganizationComponent_button_10_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r12 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 39);\n    i0.ɵɵlistener(\"click\", function OrganizationComponent_button_10_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r12);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.getActiveAssets());\n    });\n    i0.ɵɵtext(1, \" View Active \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrganizationComponent_button_11_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r13 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"button\", 40);\n    i0.ɵɵlistener(\"click\", function OrganizationComponent_button_11_Template_button_click_0_listener() {\n      i0.ɵɵrestoreView(_r13);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.navigateToCreateAsset());\n    });\n    i0.ɵɵtext(1, \" Add Asset \");\n    i0.ɵɵelementEnd();\n  }\n}\nfunction OrganizationComponent_ng_template_15_ng_template_27_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 51)(1, \"span\", 52);\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd()();\n  }\n  if (rf & 2) {\n    const option_r16 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(option_r16.name);\n  }\n}\nfunction OrganizationComponent_ng_template_15_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r14 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"th\", 12);\n    i0.ɵɵtext(2, \"ID\");\n    i0.ɵɵelement(3, \"p-sortIcon\", 13);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(4, \"th\", 14);\n    i0.ɵɵtext(5, \"Name\");\n    i0.ɵɵelement(6, \"p-sortIcon\", 15);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"th\", 41);\n    i0.ɵɵtext(8, \"Risk\");\n    i0.ɵɵelement(9, \"p-sortIcon\", 42);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"th\", 43);\n    i0.ɵɵtext(11, \"Systemic\");\n    i0.ɵɵelement(12, \"p-sortIcon\", 44);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(13, \"th\", 45);\n    i0.ɵɵtext(14, \"CVSS Score\");\n    i0.ɵɵelement(15, \"p-sortIcon\", 46);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"th\", 47);\n    i0.ɵɵtext(17, \"Jira ID\");\n    i0.ɵɵelement(18, \"p-sortIcon\", 48);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelement(19, \"th\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(20, \"tr\")(21, \"th\")(22, \"input\", 19);\n    i0.ɵɵlistener(\"input\", function OrganizationComponent_ng_template_15_Template_input_input_22_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      i0.ɵɵnextContext();\n      const vulnTable_r15 = i0.ɵɵreference(14);\n      return i0.ɵɵresetView(vulnTable_r15.filter($event.target.value, \"id\", \"equals\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(23, \"th\")(24, \"input\", 20);\n    i0.ɵɵlistener(\"input\", function OrganizationComponent_ng_template_15_Template_input_input_24_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      i0.ɵɵnextContext();\n      const vulnTable_r15 = i0.ɵɵreference(14);\n      return i0.ɵɵresetView(vulnTable_r15.filter($event.target.value, \"name\", \"contains\"));\n    });\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(25, \"th\")(26, \"p-multiSelect\", 49);\n    i0.ɵɵlistener(\"onChange\", function OrganizationComponent_ng_template_15_Template_p_multiSelect_onChange_26_listener($event) {\n      i0.ɵɵrestoreView(_r14);\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.onRiskChange($event));\n    });\n    i0.ɵɵtemplate(27, OrganizationComponent_ng_template_15_ng_template_27_Template, 3, 1, \"ng-template\", 50);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelement(28, \"th\")(29, \"th\")(30, \"th\")(31, \"th\");\n    i0.ɵɵelementEnd();\n  }\n  if (rf & 2) {\n    const ctx_r5 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(26);\n    i0.ɵɵproperty(\"options\", ctx_r5.risks);\n  }\n}\nfunction OrganizationComponent_ng_template_16_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r17 = i0.ɵɵgetCurrentView();\n    i0.ɵɵelementStart(0, \"tr\")(1, \"td\");\n    i0.ɵɵtext(2);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"td\");\n    i0.ɵɵtext(4);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(5, \"td\");\n    i0.ɵɵtext(6);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(7, \"td\");\n    i0.ɵɵtext(8);\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(9, \"td\")(10, \"a\", 53);\n    i0.ɵɵtext(11);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(12, \"td\")(13, \"a\", 53);\n    i0.ɵɵtext(14);\n    i0.ɵɵelementEnd()();\n    i0.ɵɵelementStart(15, \"td\")(16, \"button\", 54);\n    i0.ɵɵlistener(\"click\", function OrganizationComponent_ng_template_16_Template_button_click_16_listener() {\n      const vuln_r18 = i0.ɵɵrestoreView(_r17).$implicit;\n      const ctx_r5 = i0.ɵɵnextContext();\n      return i0.ɵɵresetView(ctx_r5.navigateToVulnDetail(vuln_r18.id, vuln_r18.assessment.id));\n    });\n    i0.ɵɵelement(17, \"i\", 31);\n    i0.ɵɵelementEnd()()();\n  }\n  if (rf & 2) {\n    const vuln_r18 = ctx.$implicit;\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(vuln_r18 == null ? null : vuln_r18.id);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(vuln_r18 == null ? null : vuln_r18.name);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(vuln_r18 == null ? null : vuln_r18.risk);\n    i0.ɵɵadvance(2);\n    i0.ɵɵtextInterpolate(vuln_r18 == null ? null : vuln_r18.systemic);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"href\", vuln_r18 == null ? null : vuln_r18.cvssUrl, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(vuln_r18 == null ? null : vuln_r18.cvssScore);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"href\", vuln_r18 == null ? null : vuln_r18.jiraId, i0.ɵɵsanitizeUrl);\n    i0.ɵɵadvance();\n    i0.ɵɵtextInterpolate(vuln_r18 == null ? null : vuln_r18.jiraId);\n  }\n}\nlet OrganizationComponent = /*#__PURE__*/(() => {\n  class OrganizationComponent {\n    constructor(activatedRoute, router, appService, alertService, authService) {\n      this.activatedRoute = activatedRoute;\n      this.router = router;\n      this.appService = appService;\n      this.alertService = alertService;\n      this.authService = authService;\n      this.assetAry = [];\n      this.isArchive = false;\n      this.displayOpenVulnModal = false;\n      this.openVulns = [];\n      this.risks = [{\n        name: 'Informational'\n      }, {\n        name: 'Low'\n      }, {\n        name: 'Medium'\n      }, {\n        name: 'High'\n      }, {\n        name: 'Critical'\n      }];\n    }\n    ngOnInit() {\n      this.activatedRoute.data.subscribe(({\n        assets\n      }) => {\n        this.assetAry = assets;\n        this.isAdmin = this.authService.isAdmin();\n      });\n      this.activatedRoute.params.subscribe(params => {\n        this.orgId = params.orgId;\n        this.appService.getOrganizationById(this.orgId).then(org => this.org = org);\n      });\n    }\n    onRepresentativeChange(event) {\n      this.table.filter(event.value, 'name', 'in');\n    }\n    /**\n     * Function responsible retrieving active assets\n     */\n    getActiveAssets() {\n      this.appService.getOrganizationAssets(this.orgId).then(activeAssets => {\n        this.assetAry = activeAssets;\n        this.isArchive = false;\n      });\n    }\n    /**\n     * Function responsible retrieving archived assets\n     */\n    getArchivedAssets() {\n      this.appService.getOrganizationArchiveAssets(this.orgId).subscribe(archivedAssets => {\n        this.assetAry = archivedAssets;\n        this.isArchive = true;\n      });\n    }\n    /**\n     * Function responsible for navigating the user to an Assessment\n     * @param id assessment ID is required\n     */\n    navigateToAssessment(id) {\n      this.router.navigate([`organization/${this.orgId}/asset/${id}`]);\n    }\n    /**\n     * Function responsible for navigating the user back to the main dashboard\n     */\n    navigateToDashboard() {\n      this.router.navigate([`dashboard`]);\n    }\n    /**\n     * Function responsible for navigating the user to the assessment area to create\n     * a new assessment\n     */\n    navigateToCreateAsset() {\n      this.router.navigate([`organization/${this.orgId}/asset-form`]);\n    }\n    /**\n     * Function responsible for navigating the user to Asset Area\n     * @param assetId asset ID passed required\n     */\n    navigateToAsset(assetId) {\n      this.router.navigate([`organization/${this.orgId}/asset-form/${assetId}`]);\n    }\n    /**\n     * Function responsible for navigating the user to the assets open vulnereabilities\n     * @param assetId asset ID passed required\n     */\n    showOpenVulnsModal(assetId, assetName) {\n      this.assetId = assetId;\n      this.displayOpenVulnModal = true;\n      this.assetNameHeader = assetName;\n      this.openVulns = [];\n      this.appService.getOpenVulnsByAssetId(this.assetId).subscribe(openVulns => {\n        this.openVulns = openVulns;\n      });\n    }\n    /**\n     * Function responsible for archiving an asset\n     */\n    archiveAsset(asset) {\n      const confirmed = confirm(`Archive the asset \"${asset.name}\"?`);\n      if (confirmed) {\n        this.appService.archiveAsset(asset).subscribe(res => {\n          this.alertService.success(res);\n          this.getActiveAssets();\n        });\n      }\n    }\n    /**\n     * Function responsible for activating an asset\n     */\n    activateAsset(asset) {\n      const confirmed = confirm(`Activate the asset \"${asset.name}\"?`);\n      if (confirmed) {\n        this.appService.activateAsset(asset).subscribe(res => {\n          this.alertService.success(res);\n          this.getArchivedAssets();\n        });\n      }\n    }\n    onRiskChange(event) {\n      const selectedRiskAry = event.value.map(x => x.name);\n      this.vulnTable.filter(selectedRiskAry, 'risk', 'in');\n    }\n    navigateToVulnDetail(vulnId, assessmentId) {\n      const url = this.router.serializeUrl(this.router.createUrlTree([`organization/${this.orgId}/asset/${this.assetId}/assessment/${assessmentId}/vuln-form/${vulnId}`]));\n      let baseUrl = window.location.href.replace(this.router.url, '');\n      window.open(baseUrl + url, '_blank');\n    }\n    static #_ = this.ɵfac = function OrganizationComponent_Factory(t) {\n      return new (t || OrganizationComponent)(i0.ɵɵdirectiveInject(i1.ActivatedRoute), i0.ɵɵdirectiveInject(i1.Router), i0.ɵɵdirectiveInject(i2.AppService), i0.ɵɵdirectiveInject(i3.AlertService), i0.ɵɵdirectiveInject(i4.AuthService));\n    };\n    static #_2 = this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: OrganizationComponent,\n      selectors: [[\"app-organization\"]],\n      viewQuery: function OrganizationComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵviewQuery(_c0, 5);\n          i0.ɵɵviewQuery(_c1, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.table = _t.first);\n          i0.ɵɵqueryRefresh(_t = i0.ɵɵloadQuery()) && (ctx.vulnTable = _t.first);\n        }\n      },\n      decls: 17,\n      vars: 15,\n      consts: [[\"dt\", \"\"], [\"vulnTable\", \"\"], [1, \"container-fluid\"], [\"styleClass\", \"p-datatable-striped\", 3, \"value\", \"paginator\", \"rows\"], [\"pTemplate\", \"header\"], [\"pTemplate\", \"body\"], [1, \"float-right\"], [\"type\", \"button\", 1, \"btn\", \"btn-secondary\", 2, \"margin-right\", \"5px\", 3, \"click\"], [\"style\", \"margin-right: 5px;\", \"type\", \"button\", \"class\", \"btn btn-dark \", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"View Archived Assets\", 3, \"click\", 4, \"ngIf\"], [\"style\", \"margin-right: 5px;\", \"type\", \"button\", \"class\", \"btn btn-dark \", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"View Active Assets\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"class\", \"btn btn-primary \", 3, \"click\", 4, \"ngIf\"], [\"modal\", \"true\", 3, \"visibleChange\", \"header\", \"visible\"], [\"pSortableColumn\", \"id\"], [\"field\", \"id\"], [\"pSortableColumn\", \"name\"], [\"field\", \"name\"], [\"pSortableColumn\", \"jira\"], [\"field\", \"jira\"], [\"scope\", \"col\"], [\"pInputText\", \"\", \"type\", \"text\", \"placeholder\", \"Search by ID\", 1, \"p-column-filter\", 3, \"input\"], [\"pInputText\", \"\", \"type\", \"text\", \"placeholder\", \"Search by Name\", 1, \"p-column-filter\", 3, \"input\"], [\"scope\", \"row\"], [\"href\", \"javascript:;\", 3, \"click\"], [\"class\", \"btn btn-secondary\", \"type\", \"button\", \"style\", \"margin-right: 10px;\", \"data-toggle\", \"tooltip\", \"c\", \"\", \"data-placement\", \"bottom\", \"title\", \"Edit Asset\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-primary\", \"style\", \"margin-right: 10px;\", \"type\", \"button\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"View Assessments\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-dark\", \"type\", \"button\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Archive\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"btn btn-dark\", \"type\", \"button\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Activate\", 3, \"click\", 4, \"ngIf\"], [\"type\", \"button\", \"data-toggle\", \"tooltip\", \"c\", \"\", \"data-placement\", \"bottom\", \"title\", \"Edit Asset\", 1, \"btn\", \"btn-secondary\", 2, \"margin-right\", \"10px\", 3, \"click\"], [\"class\", \"pi pi-pencil\", 4, \"ngIf\"], [\"class\", \"pi pi-eye\", 4, \"ngIf\"], [1, \"pi\", \"pi-pencil\"], [1, \"pi\", \"pi-eye\"], [\"type\", \"button\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"View Assessments\", 1, \"btn\", \"btn-primary\", 2, \"margin-right\", \"10px\", 3, \"click\"], [1, \"pi\", \"pi-list\"], [\"type\", \"button\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Archive\", 1, \"btn\", \"btn-dark\", 3, \"click\"], [1, \"pi\", \"pi-folder\"], [\"type\", \"button\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"Activate\", 1, \"btn\", \"btn-dark\", 3, \"click\"], [1, \"pi\", \"pi-folder-open\"], [\"type\", \"button\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"View Archived Assets\", 1, \"btn\", \"btn-dark\", 2, \"margin-right\", \"5px\", 3, \"click\"], [\"type\", \"button\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"View Active Assets\", 1, \"btn\", \"btn-dark\", 2, \"margin-right\", \"5px\", 3, \"click\"], [\"type\", \"button\", 1, \"btn\", \"btn-primary\", 3, \"click\"], [\"pSortableColumn\", \"risk\"], [\"field\", \"risk\"], [\"pSortableColumn\", \"systemic\"], [\"field\", \"systemic\"], [\"pSortableColumn\", \"cvssScore\"], [\"field\", \"cvssScore\"], [\"pSortableColumn\", \"jiraId\"], [\"field\", \"jiraId\"], [\"placeholder\", \"All\", \"optionLabel\", \"name\", \"styleClass\", \"p-column-filter\", 3, \"onChange\", \"options\"], [\"pTemplate\", \"item\"], [1, \"p-multiselect-representative-option\"], [1, \"p-ml-1\"], [\"target\", \"_blank\", 3, \"href\"], [\"type\", \"button\", \"data-toggle\", \"tooltip\", \"data-placement\", \"bottom\", \"title\", \"View Vulnerability\", 1, \"btn\", \"btn-secondary\", 2, \"margin-right\", \"10px\", 3, \"click\"]],\n      template: function OrganizationComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.ɵɵgetCurrentView();\n          i0.ɵɵelementStart(0, \"div\", 2)(1, \"p-table\", 3, 0);\n          i0.ɵɵtemplate(3, OrganizationComponent_ng_template_3_Template, 24, 0, \"ng-template\", 4)(4, OrganizationComponent_ng_template_4_Template, 17, 9, \"ng-template\", 5);\n          i0.ɵɵelementEnd();\n          i0.ɵɵelement(5, \"br\");\n          i0.ɵɵelementStart(6, \"div\", 6)(7, \"button\", 7);\n          i0.ɵɵlistener(\"click\", function OrganizationComponent_Template_button_click_7_listener() {\n            i0.ɵɵrestoreView(_r1);\n            return i0.ɵɵresetView(ctx.navigateToDashboard());\n          });\n          i0.ɵɵtext(8, \" Back to Dashboard \");\n          i0.ɵɵelementEnd();\n          i0.ɵɵtemplate(9, OrganizationComponent_button_9_Template, 2, 0, \"button\", 8)(10, OrganizationComponent_button_10_Template, 2, 0, \"button\", 9)(11, OrganizationComponent_button_11_Template, 2, 0, \"button\", 10);\n          i0.ɵɵelementStart(12, \"p-dialog\", 11);\n          i0.ɵɵtwoWayListener(\"visibleChange\", function OrganizationComponent_Template_p_dialog_visibleChange_12_listener($event) {\n            i0.ɵɵrestoreView(_r1);\n            i0.ɵɵtwoWayBindingSet(ctx.displayOpenVulnModal, $event) || (ctx.displayOpenVulnModal = $event);\n            return i0.ɵɵresetView($event);\n          });\n          i0.ɵɵelementStart(13, \"p-table\", 3, 1);\n          i0.ɵɵtemplate(15, OrganizationComponent_ng_template_15_Template, 32, 1, \"ng-template\", 4)(16, OrganizationComponent_ng_template_16_Template, 18, 8, \"ng-template\", 5);\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"value\", ctx.assetAry)(\"paginator\", true)(\"rows\", 10);\n          i0.ɵɵadvance(8);\n          i0.ɵɵproperty(\"ngIf\", !ctx.isArchive);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", ctx.isArchive);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"ngIf\", !ctx.isArchive && ctx.isAdmin);\n          i0.ɵɵadvance();\n          i0.ɵɵstyleMap(i0.ɵɵpureFunction0(14, _c2));\n          i0.ɵɵpropertyInterpolate1(\"header\", \"\", ctx.assetNameHeader, \" Open Vulnerabilities\");\n          i0.ɵɵtwoWayProperty(\"visible\", ctx.displayOpenVulnModal);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"value\", ctx.openVulns)(\"paginator\", true)(\"rows\", 10);\n        }\n      },\n      dependencies: [i5.NgIf, i6.Table, i7.PrimeTemplate, i6.SortableColumn, i6.SortIcon, i8.InputText, i9.MultiSelect, i10.Dialog]\n    });\n  }\n  return OrganizationComponent;\n})();\nexports.OrganizationComponent = OrganizationComponent;","map":null,"metadata":{},"sourceType":"script","externalDependencies":[]}